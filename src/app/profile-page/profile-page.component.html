<div class="input-group">
    <label>
        Name:
    </label>
    <div class="d-flex">
        <app-text-input
            [formControl]="name"
            [disabled]="name.disabled"
            [placeholder]="user?.displayName"
        ></app-text-input>
        <button
            *ngIf="name.disabled"
            class="btn"
            title="edit"
            (click)="enableNameInput()"
        >
            <svg class="icon icon--sm">
                <use xlink:href="assets/sprite/sprite.svg#pen"></use>
            </svg>
        </button>
        <ng-container *ngIf="!name.disabled">
            <button
                class="btn"
                (click)="cancelEdit()"
            >
                Cancel
            </button>
            <button
                class="btn"
                [disabled]="name.errors"
                (click)="changeName()"
            >
                Save
            </button>
        </ng-container>
    </div>
</div>

<div class="input-group">
    <label>
        Email:
    </label>
    <div class="d-flex">
        <app-text-input
            [formControl]="email"
            [disabled]="email.disabled"
            [placeholder]="user?.email"
            type="email"
        ></app-text-input>
        <button
            *ngIf="email.disabled"
            class="btn"
            title="edit"
            (click)="enableEmailInput()"
        >
            <svg class="icon icon--sm">
                <use xlink:href="assets/sprite/sprite.svg#pen"></use>
            </svg>
        </button>
        <ng-container *ngIf="!email.disabled">
            <button
                class="btn"
                (click)="cancelEdit()"
            >
                Cancel
            </button>
            <button
                class="btn"
                [disabled]="email.errors"
                (click)="changeEmail()"
            >
                Save
            </button>
        </ng-container>
    </div>
</div>
<div class="input-group">
    <label>
        Password:
    </label>
    <div class="d-flex">
        <app-text-input
            [formControl]="pass"
            [disabled]="pass.disabled"
            placeholder="......"
            type="password"
            [passSwitch]="!pass.disabled"
        ></app-text-input>
        <button
            *ngIf="pass.disabled"
            class="btn"
            title="edit"
            (click)="enablePassInput()"
        >
            <svg class="icon icon--sm">
                <use xlink:href="assets/sprite/sprite.svg#pen"></use>
            </svg>
        </button>

        <ng-container *ngIf="!pass.disabled">
            <button
                class="btn"
                (click)="cancelEdit()"
            >
                Cancel
            </button>
            <button
                class="btn"
                [disabled]="pass.errors"
                (click)="changePass()"
            >
                Save
            </button>

        </ng-container>
    </div>
</div>

<button
    class="btn"
    style="color: red;"
    type="button"
    (click)="switchPopup()"
>
    Delete account
</button>
<br>

<ng-container *ngFor="let comment of comments; index as i;">
    <a [routerLink]="['/day/' + comment.pictureDate]">
        {{ comment.pictureDate }}
    </a>
    <app-comment
        [comment]="comment"
        [user]="user"
        (deleteHandler)="onDelete(i)"
    ></app-comment>
</ng-container>
<app-popup [opened]="popup" (onClose)="switchPopup()">
    <ng-template #content>
        <h3>Are you shure?</h3>
    </ng-template>
    <ng-template #controls>
        <button
            class="btn"
            type="button"
            (click)="delProfile()"
        >
            Yes
        </button>
        <button
            class="btn"
            type="button"
            (click)="switchPopup()"
        >
            No
        </button>
    </ng-template>
</app-popup>
